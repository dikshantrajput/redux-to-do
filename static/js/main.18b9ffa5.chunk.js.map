{"version":3,"sources":["components/Form.js","actions/index.js","actions/constants.js","App.js","reducers/todo.js","reducers/index.js","store.js","index.js"],"names":["Form","titleRef","useRef","calenderRef","dispatch","useDispatch","state","useSelector","todo","className","onSubmit","e","preventDefault","title","current","value","indianTimeZoneVal","Date","toLocaleString","timeZone","indainDateObj","setHours","getHours","setMinutes","getMinutes","deadline","toDateString","regex","RegExp","textboxValue","test","splittingRegex","httpRegex","split","map","i","url","exec","replace","join","convertToAnchors","data","type","payload","addToDo","ref","placeholder","required","min","getFullYear","getMonth","slice","getDate","item","completed","dangerouslySetInnerHTML","__html","DOMPurify","sanitize","ALLOWED_TAGS","ALLOWED_ATTR","ALLOWED_URI_REGEXP","ALLOW_UNKNOWN_PROTOCOLS","WHOLE_DOCUMENT","date","onClick","id","htmlFor","onChange","App","store","action","month","day","length","Math","max","apply","getDay","filter","index","allReducers","combineReducers","todoreducer","currentState","localStorage","getItem","JSON","parse","createStore","window","__REDUX_DEVTOOLS_EXTENSION__","subscribe","setItem","stringify","getState","ReactDOM","render","document","getElementById"],"mappings":"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","file":"static/js/main.18b9ffa5.chunk.js","sourcesContent":["import React , { useRef } from 'react'\r\nimport { useSelector , useDispatch } from 'react-redux'\r\nimport { addToDo , removeToDo, toggleToDo } from '../actions'\r\nimport './form.css'\r\nimport DOMPurify from 'dompurify';\r\n\r\nfunction Form(){\r\n    const titleRef = useRef(null)\r\n    const calenderRef = useRef(null)\r\n    const dispatch = useDispatch()\r\n    const state = useSelector(state => state.todo)\r\n\r\n    const handleSubmit = (e)=>{\r\n        e.preventDefault()\r\n        let title = titleRef.current.value \r\n        var indianTimeZoneVal = new Date(calenderRef.current.value).toLocaleString('en-US', {timeZone: 'Asia/Kolkata'});\r\n        var indainDateObj = new Date(indianTimeZoneVal);\r\n        indainDateObj.setHours(indainDateObj.getHours() + 5);\r\n        indainDateObj.setMinutes(indainDateObj.getMinutes() + 30);\r\n        const deadline = (indainDateObj.toDateString());\r\n        let regex = new RegExp(\"(?:(?:https?|ftp|file):\\/\\/|www\\.|ftp\\.)(?:\\([-A-Z0-9+&@#\\/%=~_|$?!:,.]*\\)|[-A-Z0-9+&@#\\/%=~_|$?!:,.])*(?:\\([-A-Z0-9+&@#\\/%=~_|$?!:,.]*\\)|[A-Z0-9+&@#\\/%=~_|$])\",\"i\")\r\n        let textboxValue = titleRef.current.value\r\n        const flag = regex.test(textboxValue)\r\n        if(flag){\r\n            let parsedText = convertToAnchors(textboxValue, regex)\r\n            title = parsedText\r\n        }\r\n        const data = {\r\n            title,\r\n            deadline\r\n        }\r\n        dispatch(addToDo(data))\r\n        titleRef.current.value = ''\r\n        calenderRef.current.value = ''\r\n    }\r\n\r\n    function convertToAnchors(value, regex){\r\n        let splittingRegex = new RegExp(\"[\\n\\r]+\")\r\n        let httpRegex = new RegExp(\"[http|https|ftp]\")\r\n        return value.split(splittingRegex).map(i=>{\r\n            if(regex.test(i)){\r\n                let url = regex.exec(i)[0]\r\n                if(httpRegex.test(url)){\r\n                }else{\r\n                    url = \"https://\" + url\r\n                }\r\n                return i.replace(regex,`<a href=\"${url}\" target=\"blank\">${url}</a>`)\r\n            }else{\r\n                return i\r\n            }\r\n        }).join(\" \")\r\n    }\r\n\r\n    return (\r\n        <>\r\n            <div className=\"form__container\">\r\n                <form onSubmit={handleSubmit}>\r\n                    <label>Title:</label>\r\n                    <input className=\"form__control\" ref={titleRef} type=\"text\" placeholder=\"Title...\" required />\r\n                    <label>Deadline:</label>\r\n                    <input className=\"form__control\" ref={calenderRef} type=\"date\" required min={new Date().getFullYear() + '-' + (\"0\" + (new Date().getMonth()+1)).slice(-2) + '-' + (\"0\" + new Date().getDate()).slice(-2) } />\r\n                    <input className=\"form__submit\" type=\"submit\" value=\"Add\" />\r\n                </form>    \r\n            </div> \r\n            <div className=\"cards__container\">\r\n                {\r\n                    state.map((item)=>{\r\n                        return (\r\n                            <div className={`card ${item.completed ? 'active' : null}`} key={item.id}>\r\n                                <div className=\"card__title\"\r\n                                dangerouslySetInnerHTML={\r\n                                    {\r\n                                        __html: DOMPurify.sanitize(item.title,{\r\n                                            ALLOWED_TAGS: ['b', 'q','a'],\r\n                                            ALLOWED_ATTR: ['href','target'],\r\n                                            ALLOWED_URI_REGEXP: /^(?:(?:(?:f|ht)tps?|mailto|tel|callto|cid|xmpp|xxx):|[^a-z]|[a-z+.\\-]+(?:[^a-z+.\\-:]|$))/i,\r\n                                            ALLOW_UNKNOWN_PROTOCOLS: true,\r\n                                            WHOLE_DOCUMENT:true\r\n                                            }\r\n                                        )}\r\n                                    }>\r\n                                </div>\r\n                                <span className=\"date\">{item.date}</span>&emsp;\r\n                                <span className=\"deadline\">{item.deadline}</span>&emsp;\r\n                                <span className=\"delete__card\" onClick={()=>dispatch(removeToDo(item))}>&times;</span>\r\n                                <div className=\"toggle__container\">\r\n                                    <label htmlFor={`toggle${item.id}`}>\r\n                                        <div className={`switch ${item.completed ? 'active' : null}`}></div>\r\n                                    </label>\r\n                                    <input id={`toggle${item.id}`} type=\"checkbox\" onChange={()=>dispatch(toggleToDo(item))} />\r\n                                </div>\r\n                            </div>\r\n                        )\r\n                    })\r\n                }\r\n            </div>\r\n        </>\r\n    )\r\n}\r\n\r\nexport default Form","import { ADD_TODO , REMOVE_TODO , TOGGLE_TODO } from './constants'\r\n\r\nexport const addToDo = (data) =>{\r\n    return {\r\n        type: ADD_TODO,\r\n        payload: {\r\n            title : data.title,\r\n            deadline : data.deadline,\r\n        }\r\n    }\r\n}\r\n\r\nexport const removeToDo = (data)=>{\r\n    return {\r\n        type : REMOVE_TODO,\r\n        payload : {\r\n            id : data.id\r\n        }\r\n    }\r\n}\r\n\r\nexport const toggleToDo = (data)=>{\r\n    return{\r\n        type : TOGGLE_TODO,\r\n        payload : data.id\r\n    }\r\n}","export const ADD_TODO = \"ADD_TODO\"\r\nexport const REMOVE_TODO = \"REMOVE_TODO\"\r\nexport const TOGGLE_TODO = \"TOGGLE_TODO\"","import React from 'react'\r\nimport Form from './components/Form'\r\nimport './app.css'\r\n\r\nfunction App(){\r\n    return (\r\n        <>\r\n        <div className=\"body__wrapper\">\r\n            <h1>ADD TO DO</h1>\r\n            <Form />\r\n        </div>\r\n        </>\r\n    )\r\n}\r\n\r\nexport default App","function todo(store=[] , action){\r\n    const date = new Date()\r\n    const month = ['Jan' , 'Feb' , 'March' , 'Apr' , 'May' ,'June' , 'July' , 'Aug' , 'Sep' , 'Oct'  , 'Nov' , 'Dec']\r\n    const day = ['Mon' , 'Tue' , 'Wed' , 'Thu' , 'Fri' ,'Sat' , 'Sun']\r\n    switch(action.type){\r\n        case \"ADD_TODO\":\r\n            return [\r\n                    ...store , { \r\n                        id: store.length > 0 ? Math.max.apply(null,store.map((item)=> item.id))+1 : 1 ,\r\n                        title : action.payload.title ,\r\n                        completed: false,\r\n                        deadline: action.payload.deadline,\r\n                        date : day[(date.getDay()) - 1] + ' ' + month.filter((item,index)=>index === date.getMonth()) + ' ' + ('0'+date.getDate()).slice(-2) + ' ' + date.getFullYear() \r\n                    }\r\n                ]\r\n        \r\n        case \"REMOVE_TODO\":\r\n            return store.filter((item)=> action.payload.id !== item.id)\r\n        \r\n        case \"TOGGLE_TODO\":\r\n            return store.map((item)=>{\r\n                if(item.id !== action.payload){\r\n                    return item\r\n                }else{\r\n                    return {\r\n                        ...item,\r\n                        completed : !item.completed\r\n                    }\r\n                }\r\n            })\r\n            \r\n        default:\r\n            return store \r\n    }\r\n}\r\n\r\nexport default todo","import todoreducer from './todo'\r\nimport { combineReducers } from 'redux'\r\n\r\nconst allReducers = combineReducers({\r\n    todo:todoreducer\r\n})   \r\n\r\nexport default allReducers","import { createStore } from 'redux'\r\nimport allReducers from './reducers'\r\n\r\nconst currentState = localStorage.getItem('reduxState') ? JSON.parse(localStorage.getItem('reduxState')) : {} \r\nconst store = createStore(allReducers,currentState,window.__REDUX_DEVTOOLS_EXTENSION__ && window.__REDUX_DEVTOOLS_EXTENSION__())\r\n\r\nstore.subscribe(()=>{\r\n    localStorage.setItem('reduxState',JSON.stringify(store.getState()))\r\n})\r\n\r\nexport default store","import React from 'react'\nimport ReactDOM from 'react-dom'\nimport App from './App'\nimport { Provider } from 'react-redux'\nimport store from './store'\n\nReactDOM.render(\n  <Provider store={store}>\n    <App />\n  </Provider>,\n  document.getElementById('root')\n);"],"sourceRoot":""}